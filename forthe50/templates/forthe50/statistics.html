{% extends 'base.html' %}
{% load static %}

{% block title %}Statistics{% endblock %}

{% block content %}
<div class="container my-3">
  <h1 class="text-center pt-3">Statistics on Human Trafficking and Slavery</h1>
  <h2 class="text-center pt-2">Data of Ireland</h2>
  <div class="row">
    <div class="col">
      <p>The data presented in this report is drawn from the IHREC National Rapporteur on Human Trafficking's 2022
        Evaluation
        Report. This independent evaluation highlights progress made by the Irish State in combating human trafficking,
        identifies
        gaps, and analyzes emerging trends such as technology-facilitated trafficking, increasing labor exploitation,
        and the
        impact of the war in Ukraine. The report reflects a holistic, human rights-oriented approach and incorporates
        survivor
        input. It also examines significant developments in Ireland, including the new anti-trafficking National Action
        Plan and
        the establishment of a victim-centered National Referral Mechanism. This work is made possible through
        collaboration
        with State agencies, survivor activists, and support organizations, with the aim of driving meaningful change to
        prevent
        trafficking, prosecute perpetrators, and protect survivors.</p>
    </div>
  </div>

  <!-- Row for the cards -->
  <div class="row">
    <!-- Card for Human Trafficking Types -->
    <div class="col-12 col-md-6 col-lg-4 my-4">
      <div class="card shadow rounded">
        <div class="card-body text-center">
          <h3 class="h4 card-title text-center">Human Trafficking Types</h3>
          <div class="chart-container">
            <canvas class="mx-auto" id="traffickingChart"></canvas>
          </div>
        </div>
      </div>
    </div>

    <!-- Card for Victims by Gender and Age -->
    <div class="col-12 col-md-6 col-lg-4 my-4">
      <div class="card shadow rounded">
        <div class="card-body text-center">
          <h3 class="h4 card-title text-center">Victims by Gender and Age</h3>
          <div class="chart-container">
            <canvas class="mx-auto" id="genderAgeChart"></canvas>
          </div>
        </div>
      </div>
    </div>

    <!-- Card for Total Victims Identified -->
    <div class="col-12 col-md-6 col-lg-4 my-4">
      <div class="card shadow rounded">
        <div class="card-body text-center">
          <h3 class="h4 card-title text-center">Total Victims Identified in 2022</h3>
          <div class="chart-container">
            <canvas class="mx-auto" id="totalVictimsChart"></canvas>
          </div>
        </div>
      </div>
    </div>

    <!-- Card for Victim Age Group -->
    <div class="col-12 col-md-6 col-lg-4 my-4">
      <div class="card shadow rounded">
        <div class="card-body text-center">
          <h3 class="h4 card-title text-center">Victim Age Group</h3>
          <div class="chart-container">
            <canvas class="mx-auto" id="ageGroupChart"></canvas>
          </div>
        </div>
      </div>
    </div>

    <!-- Card for Sexual Exploitation by Gender -->
    <div class="col-12 col-md-6 col-lg-4 my-4">
      <div class="card shadow rounded">
        <div class="card-body text-center">
          <h3 class="h4 card-title text-center">Total Victims of Sexual Exploitation by Gender 2018-2022</h3>
          <div class="chart-container">
            <canvas class="mx-auto" id="sexualExploitationGenderChart"></canvas>
          </div>
        </div>
      </div>
    </div>

    <!-- Card for Labour Exploitation by Gender -->
    <div class="col-12 col-md-6 col-lg-4 my-4">
      <div class="card shadow rounded">
        <div class="card-body text-center">
          <h3 class="h4 card-title text-center">Total Victims of Labour Exploitation by Gender 2018-2022</h3>
          <div class="chart-container">
            <canvas class="mx-auto" id="labourExploitationGenderChart"></canvas>
          </div>
        </div>
      </div>
    </div>

    <!-- Card for Forced Criminality Exploitation by Gender -->
    <div class="col-12 col-md-6 col-lg-4 my-4">
      <div class="card shadow rounded">
        <div class="card-body text-center">
          <h3 class="h4 card-title text-center">Total Victims of Forced Criminality Exploitation by Gender 2018-2022</h3>
          <div class="chart-container">
            <canvas class="mx-auto" id="criminalityExploitationGenderChart"></canvas>
          </div>
        </div>
      </div>
    </div>

    <!-- Card for Other Exploitation by Gender -->
    <div class="col-12 col-md-6 col-lg-4 my-4">
      <div class="card shadow rounded">
        <div class="card-body text-center">
          <h3 class="h4 card-title text-center">Total Victims of Other Exploitation by Gender 2018-2022</h3>
          <div class="chart-container">
            <canvas class="mx-auto" id="otherExploitationGenderChart"></canvas>
          </div>
        </div>
      </div>
    </div>
  </div>

  <h2 class="text-center pt-2">Data of United Kingdom</h2>
  <div class="row">
    <div class="col">
      <p></p>
    </div>
  </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<script>
  // Data for Human Trafficking Types
  const traffickingData = {
    labels: [
      'Trafficking for Sexual Exploitation',
      'Trafficking for Labour Exploitation',
      'Trafficking for Criminal Activities',
      'Other types of Trafficking'
    ],
    datasets: [{
      data: [24, 15, 2, 1],
      backgroundColor: ['#c4c8cb', '#f1aeb5', '#f8d7da', '#58151c'],
      hoverOffset: 4
    }]
  };

  // Data for Victims by Gender and Age
  const genderAgeData = {
    labels: ['Male', 'Boys', 'Female', 'Girls'],
    datasets: [{
      data: [161, 9, 312, 30],
      backgroundColor: ['#8fb4c6', '#c3e2f0', '#f6c5c9', '#f4a1ab'],
      hoverOffset: 4
    }]
  };

  // Data for Total Victims Identified
  const totalVictimsData = {
    labels: [
      'Victims of Sexual Exploitation',
      'Victims of Labour Exploitation',
      'Victims of Forced Criminality',
      'Suspected Organ Removal'
    ],
    datasets: [{
      data: [24, 15, 2, 1],
      backgroundColor: ['#c4c8cb', '#f1aeb5', '#f8d7da', '#58151c'],
      hoverOffset: 4
    }]
  };

  // Data for Victim Age Group
  const ageGroupData = {
    labels: ['Adult', 'Minor'],
    datasets: [{
      data: [37, 5],
      backgroundColor: ['#f8d7da', '#58151c'],
      hoverOffset: 4
    }]
  };

  // Data for Sexual Exploitation by Gender
  const sexualExploitationGenderData = {
    labels: ['Female', 'Male'],
    datasets: [{
      data: [130, 6],
      backgroundColor: ['#f1aeb5', '#c4c8cb'],
      hoverOffset: 4
    }]
  };

  // Data for Labour Exploitation by Gender
  const labourExploitationGenderData = {
    labels: ['Female', 'Male'],
    datasets: [{
      data: [24, 58],
      backgroundColor: ['#f1aeb5', '#c4c8cb'],
      hoverOffset: 4
    }]
  };

  // Data for Forced Criminality Exploitation by Gender
  const criminalityExploitationGenderData = {
    labels: ['Female', 'Male'],
    datasets: [{
      data: [1, 5],
      backgroundColor: ['#f1aeb5', '#c4c8cb'],
      hoverOffset: 4
    }]
  };

  // Data for Other Exploitation by Gender
  const otherExploitationGenderData = {
    labels: ['Female', 'Male'],
    datasets: [{
      data: [4, 2],
      backgroundColor: ['#f1aeb5', '#c4c8cb'],
      hoverOffset: 4
    }]
  };

  // Options for doughnut charts
  const chartOptions = {
    responsive: true,
    plugins: {
      legend: {
        position: 'bottom',
      },
      tooltip: {
        callbacks: {
          label: function (tooltipItem) {
            return tooltipItem.label + ': ' + tooltipItem.raw;
          }
        }
      }
    }
  };

  // Render each chart
  const ctx1 = document.getElementById('traffickingChart').getContext('2d');
  new Chart(ctx1, { type: 'doughnut', data: traffickingData, options: chartOptions });

  const ctx2 = document.getElementById('genderAgeChart').getContext('2d');
  new Chart(ctx2, { type: 'doughnut', data: genderAgeData, options: chartOptions });

  const ctx3 = document.getElementById('totalVictimsChart').getContext('2d');
  new Chart(ctx3, { type: 'doughnut', data: totalVictimsData, options: chartOptions });

  const ctx4 = document.getElementById('ageGroupChart').getContext('2d');
  new Chart(ctx4, { type: 'doughnut', data: ageGroupData, options: chartOptions });

  const ctx5 = document.getElementById('sexualExploitationGenderChart').getContext('2d');
  new Chart(ctx5, { type: 'doughnut', data: sexualExploitationGenderData, options: chartOptions });

  const ctx6 = document.getElementById('labourExploitationGenderChart').getContext('2d');
  new Chart(ctx6, { type: 'doughnut', data: labourExploitationGenderData, options: chartOptions });

  const ctx7 = document.getElementById('criminalityExploitationGenderChart').getContext('2d');
  new Chart(ctx7, { type: 'doughnut', data: criminalityExploitationGenderData, options: chartOptions });

  const ctx8 = document.getElementById('otherExploitationGenderChart').getContext('2d');
  new Chart(ctx8, { type: 'doughnut', data: otherExploitationGenderData, options: chartOptions });
</script>
{% endblock %}